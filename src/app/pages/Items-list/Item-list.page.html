<app-tile-header pageTitle="Docs 2 Receive" (scan)="handleScan($event)" (search)="handleSearch($event)">
</app-tile-header>

<ion-content>
  <ion-toolbar>
    <ion-item lines="none" button="true" (click)="toggleLatestDateFilter()">
      <ion-label>{{ isFilteredByLatest ? 'Inorder' : 'Filtered by Latest Date' }}</ion-label>
      <ion-icon slot="end" name="filter-outline"></ion-icon>
    </ion-item>


  </ion-toolbar>

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-down-outline" refreshingSpinner="circles" pullingText="Pull to refresh"
      refreshingText="Syncing...">
    </ion-refresher-content>
  </ion-refresher>

  <ion-list>
    <ion-card class="doc-card" button="true" *ngFor="let doc of filteredPoHeaders; trackBy: trackByPoNumber"
      (click)="getOrderDetails(doc.PoNumber)">
      <ion-item lines="none">
        <div slot="start" class="doc-number">{{ doc.PoNumber }}</div>
        <ion-label>
          <h2>{{ doc.PoType }}</h2>
          <p>{{ doc.VendorName }}</p>
          <p>{{ doc.Requestor }}</p>
        </ion-label>

        <div slot="end" class="item-count">
          <strong>{{ doc.Items }} {{ doc.Items === 1 ? 'item' : 'items' }}</strong>
        </div>
      </ion-item>

      <div class="doc-date">{{ doc.LastUpdateDate.split(' ')[0] }}</div>
    </ion-card>
  </ion-list>
</ion-content>