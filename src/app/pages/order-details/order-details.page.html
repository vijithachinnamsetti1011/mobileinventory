<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <app-back-button></app-back-button>
    </ion-buttons>
    <ion-title>Order# {{ poNumber }}</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <div *ngIf="headerdata">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ headerdata[0]?.PoType }}</ion-card-title>
        <ion-card-subtitle>{{ headerdata[0]?.VendorName }}</ion-card-subtitle>
        <p>Requestor: {{ headerdata[0]?.Requestor }}</p>
        <p>Last Update: {{ headerdata[0]?.LastUpdateDate }}</p>
        <div slot="end" class="item-count">
          <strong>{{ headerdata?.Items }} {{ headerdata?.Items === 1 ? 'item' : 'items' }}</strong>
        </div>
      </ion-card-header>
    </ion-card>
  </div>
  <div>
    <app-scan-search 
  (scan)="handleScan($event)" 
  (search)="handleSearch($event)">
</app-scan-search>
  </div>

  <ion-list>
    <ion-item *ngFor="let item of items" class="item-with-icon">
      <ion-label>
        <h2><strong>{{ item?.ItemNumber }}</strong></h2>
        <p>{{ item?.ItemDesc }}</p>
        <p>{{item?.PoNumber}}</p>
        <p>Shipment#: {{ item?.ShipmentLineNum }}</p>
        <p>Delivery Date: {{ item?.NeedByDate }}</p>
        <p>Ordered Quantity: {{ item?.QtyOrdered }} {{ item?.ItemUom }}</p>
      </ion-label>
      <ion-icon slot="end" name="chevron-forward-sharp" (click)="navigateToDetails(item)"></ion-icon>
    </ion-item>
  </ion-list>

</ion-content>